.MODEL SMALL
 
.STACK 100H

.DATA 

;variables 
a db "ENTER A HEX DIGIT: $"
b db "IN DECIMAL IT IS  $"  
c db "DO YOU WANT TO DO IT AGAIN? $" 
d db "ILLEGAL CHARACTER - ENTER 0 .. 9 OR A .. F: $"

.CODE 
MAIN PROC 

;initialize DS

MOV AX,@DATA 
MOV DS,AX 
 
; enter your code here 

TOP:
LEA DX,a
MOV AH,9
INT 21H

MOV AH,1
INT 21H
MOV BL,AL


MOV AH,2 
MOV DL,0DH
INT 21H
MOV DL,0AH 
INT 21H 

CHECKER:
CMP BL,30H 
JL INVALID

CMP BL,46H 
JG INVALID
JMP EXECUTION

INVALID:
LEA DX,d
MOV AH,9
INT 21H


MOV AH,1
INT 21H
MOV BL,AL

MOV AH,2 
MOV DL,0DH
INT 21H
MOV DL,0AH 
INT 21H 

EXECUTION:
LEA DX,b
MOV AH,9
INT 21H

CMP BL,39H
JG ALPHA

MOV DL,BL
MOV AH,2
INT 21H 


AGAIN:
MOV AH,2 
MOV DL,0DH
INT 21H
MOV DL,0AH 
INT 21H

LEA DX,c
MOV AH,9
INT 21H 

MOV AH,1
INT 21H
MOV BL,AL
 
MOV AH,2 
MOV DL,0DH
INT 21H
MOV DL,0AH 
INT 21H

CMP BL,59H
JE TOP
CMP BL,79H 
JE TOP

JMP EXIT

ALPHA:
MOV DX,31H
MOV AH,2
INT 21H

SUB BX,11H

MOV DL,BL
MOV AH,2
INT 21H
        
JMP AGAIN
 

;exit to DOS 

EXIT:               
MOV AX,4C00H
INT 21H 

MAIN ENDP
   END MAIN